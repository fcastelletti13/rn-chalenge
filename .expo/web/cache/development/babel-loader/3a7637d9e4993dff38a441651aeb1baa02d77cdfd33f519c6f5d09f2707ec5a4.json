{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { AppProvider, useAppContext } from \"./src/context/AppContext.js\";\nimport axios from \"./src/api/axiosConfig.js\";\nimport LoginForm from \"./src/components/LoginForm\";\nimport HomeScreen from \"./src/screens/HomeScreen\";\nimport MenuScreen from \"./src/screens/MenuScreen\";\nimport OrderScreen from \"./src/screens/OrderScreen\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Stack = createStackNavigator();\nvar App = function App() {\n  var _useAppContext = useAppContext(),\n    user = _useAppContext.user,\n    setUser = _useAppContext.setUser;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  useEffect(function () {\n    var _ref;\n    var checkAuthentication = function checkAuthentication() {\n      return (_ref = _ref || _asyncToGenerator(function* () {\n        try {\n          var token = '';\n          if (token) {\n            var response = yield axios.get('/user-info', {\n              headers: {\n                Authorization: `Bearer ${token}`\n              }\n            });\n            setUser(response.data);\n          }\n        } catch (error) {\n          console.error('Error al verificar la autenticación:', error);\n        } finally {\n          setIsLoading(false);\n        }\n      })).apply(this, arguments);\n    };\n    checkAuthentication();\n  }, [setUser]);\n  if (isLoading) {\n    return null;\n  }\n  return _jsx(NavigationContainer, {\n    children: _jsx(Stack.Navigator, {\n      initialRouteName: \"Login\",\n      children: _jsxs(_Fragment, {\n        children: [_jsx(Stack.Screen, {\n          name: \"Home\",\n          component: HomeScreen\n        }), _jsx(Stack.Screen, {\n          name: \"Menu\",\n          component: MenuScreen\n        }), _jsx(Stack.Screen, {\n          name: \"Order\",\n          component: OrderScreen\n        })]\n      })\n    })\n  });\n};\nexport default (function () {\n  return _jsx(AppProvider, {\n    children: _jsx(App, {})\n  });\n});","map":{"version":3,"names":["React","useEffect","useState","NavigationContainer","createStackNavigator","AppProvider","useAppContext","axios","LoginForm","HomeScreen","MenuScreen","OrderScreen","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Stack","App","_useAppContext","user","setUser","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_ref","checkAuthentication","_asyncToGenerator","token","response","get","headers","Authorization","data","error","console","apply","arguments","children","Navigator","initialRouteName","Screen","name","component"],"sources":["C:/Users/devandroid/Desktop/rn-chalenge/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { AppProvider, useAppContext } from './src/context/AppContext.js';\nimport axios from './src/api/axiosConfig.js';\nimport LoginForm from './src/components/LoginForm';\nimport HomeScreen from './src/screens/HomeScreen';\nimport MenuScreen from './src/screens/MenuScreen';\nimport OrderScreen from './src/screens/OrderScreen';\n\nconst Stack = createStackNavigator();\n\nconst App = () => {\n  const { user, setUser } = useAppContext();\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // Verificar si hay un token de usuario almacenado en AsyncStorage u otro lugar\n    // y establecer el usuario en el contexto si está autenticado.\n    const checkAuthentication = async () => {\n      try {\n        const token = ''; // Obtén el token almacenado\n        if (token) {\n          // Si hay un token, realiza una solicitud para obtener información del usuario\n          const response = await axios.get('/user-info', {\n            headers: { Authorization: `Bearer ${token}` },\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Error al verificar la autenticación:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    checkAuthentication();\n  }, [setUser]);\n\n  if (isLoading) {\n    return null; // Muestra una pantalla de carga mientras se verifica la autenticación\n  }\n  /*{!user ? (\n          <Stack.Screen name=\"Login\" component={LoginForm} options={{ headerShown: false }} />\n        ) : ( */\n  return (\n    <NavigationContainer>\n      <Stack.Navigator initialRouteName=\"Login\">\n        \n          <>\n            <Stack.Screen name=\"Home\" component={HomeScreen} />\n            <Stack.Screen name=\"Menu\" component={MenuScreen} />\n            <Stack.Screen name=\"Order\" component={OrderScreen} />\n          </>\n        \n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n};\n\nexport default () => {\n  return (\n    <AppProvider>\n      <App />\n    </AppProvider>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,oBAAoB,QAAQ,yBAAyB;AAC9D,SAASC,WAAW,EAAEC,aAAa;AACnC,OAAOC,KAAK;AACZ,OAAOC,SAAS;AAChB,OAAOC,UAAU;AACjB,OAAOC,UAAU;AACjB,OAAOC,WAAW;AAAkC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEpD,IAAMC,KAAK,GAAGd,oBAAoB,CAAC,CAAC;AAEpC,IAAMe,GAAG,GAAG,SAANA,GAAGA,CAAA,EAAS;EAChB,IAAAC,cAAA,GAA0Bd,aAAa,CAAC,CAAC;IAAjCe,IAAI,GAAAD,cAAA,CAAJC,IAAI;IAAEC,OAAO,GAAAF,cAAA,CAAPE,OAAO;EACrB,IAAAC,SAAA,GAAkCrB,QAAQ,CAAC,IAAI,CAAC;IAAAsB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAE9BvB,SAAS,CAAC,YAAM;IAAA,IAAA2B,IAAA;IAGd,IAAMC,mBAAmB,YAAnBA,mBAAmBA,CAAA;MAAA,QAAAD,IAAA,GAAAA,IAAA,IAAAE,iBAAA,CAAG,aAAY;QACtC,IAAI;UACF,IAAMC,KAAK,GAAG,EAAE;UAChB,IAAIA,KAAK,EAAE;YAET,IAAMC,QAAQ,SAASzB,KAAK,CAAC0B,GAAG,CAAC,YAAY,EAAE;cAC7CC,OAAO,EAAE;gBAAEC,aAAa,EAAG,UAASJ,KAAM;cAAE;YAC9C,CAAC,CAAC;YACFT,OAAO,CAACU,QAAQ,CAACI,IAAI,CAAC;UACxB;QACF,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;QAC9D,CAAC,SAAS;UACRV,YAAY,CAAC,KAAK,CAAC;QACrB;MACF,CAAC,GAAAY,KAAA,OAAAC,SAAA;IAAA;IAEDX,mBAAmB,CAAC,CAAC;EACvB,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EAEb,IAAII,SAAS,EAAE;IACb,OAAO,IAAI;EACb;EAIA,OACEb,IAAA,CAACV,mBAAmB;IAAAsC,QAAA,EAClB5B,IAAA,CAACK,KAAK,CAACwB,SAAS;MAACC,gBAAgB,EAAC,OAAO;MAAAF,QAAA,EAErCxB,KAAA,CAAAF,SAAA;QAAA0B,QAAA,GACE5B,IAAA,CAACK,KAAK,CAAC0B,MAAM;UAACC,IAAI,EAAC,MAAM;UAACC,SAAS,EAAErC;QAAW,CAAE,CAAC,EACnDI,IAAA,CAACK,KAAK,CAAC0B,MAAM;UAACC,IAAI,EAAC,MAAM;UAACC,SAAS,EAAEpC;QAAW,CAAE,CAAC,EACnDG,IAAA,CAACK,KAAK,CAAC0B,MAAM;UAACC,IAAI,EAAC,OAAO;UAACC,SAAS,EAAEnC;QAAY,CAAE,CAAC;MAAA,CACrD;IAAC,CAEU;EAAC,CACC,CAAC;AAE1B,CAAC;AAED,gBAAe,YAAM;EACnB,OACEE,IAAA,CAACR,WAAW;IAAAoC,QAAA,EACV5B,IAAA,CAACM,GAAG,IAAE;EAAC,CACI,CAAC;AAElB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}